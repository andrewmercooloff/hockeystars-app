# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ "Rendered fewer hooks than expected"

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–û—à–∏–±–∫–∞ "Rendered fewer hooks than expected" –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö—É–∫–æ–≤ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Ä–µ–Ω–¥–µ—Ä–∞–º–∏.

## üîç –ü—Ä–∏—á–∏–Ω–∞

–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `Puck.tsx` –±—ã–ª–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `useMemo` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π:

```typescript
// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - useMemo –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
onError={useMemo(() => (error) => {
  // –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
}, [avatar])}
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–ó–∞–º–µ–Ω–∏–ª `useMemo` –Ω–∞ `useCallback` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π:

```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - useCallback –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
onError={useCallback((error: any) => {
  console.log('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞–≤–∞—Ç–∞—Ä–∞ –≤ Puck:', error);
  console.log('   URL –∞–≤–∞—Ç–∞—Ä–∞:', avatar);
  console.log('   –ù–∞—Ç–∏–≤–Ω–∞—è –æ—à–∏–±–∫–∞:', error.nativeEvent?.error);
  setImageError(true);
}, [avatar])}
onLoad={useCallback(() => {
  console.log('‚úÖ –ê–≤–∞—Ç–∞—Ä –≤ Puck —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω:', avatar);
}, [avatar])}
```

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–ó–∞–º–µ–Ω–∏–ª `useMemo` –Ω–∞ `useCallback`** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
2. **–î–æ–±–∞–≤–∏–ª —Ç–∏–ø–∏–∑–∞—Ü–∏—é** –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `error: any`
3. **–£–±—Ä–∞–ª –ª–∏—à–Ω–∏–π `useCallback`** –¥–ª—è `onPress` (–æ–Ω —É–∂–µ –±—ã–ª –ø–µ—Ä–µ–¥–∞–Ω –∫–∞–∫ –ø—Ä–æ–ø)
4. **–°–æ—Ö—Ä–∞–Ω–∏–ª `useMemo`** –¥–ª—è `imageSource` (—ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ)

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ –û—à–∏–±–∫–∞ "Rendered fewer hooks than expected" –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç Puck —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ –ê–≤–∞—Ç–∞—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ù–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

## üìö –ü—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ö—É–∫–æ–≤

- **`useMemo`** - –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π
- **`useCallback`** - –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π
- **–•—É–∫–∏ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω—ã –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ**
- **–ù–µ–ª—å–∑—è –≤—ã–∑—ã–≤–∞—Ç—å —Ö—É–∫–∏ —É—Å–ª–æ–≤–Ω–æ**

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–û—à–∏–±–∫–∞ —Å —Ö—É–∫–∞–º–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞! –¢–µ–ø–µ—Ä—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Puck —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –∞–≤–∞—Ç–∞—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫. 