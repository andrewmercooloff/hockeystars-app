# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –¥–≤–æ–π–Ω—ã–º–∏ —Å–ª–µ—à–∞–º–∏ –≤ URL

## üîç –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –Ω–∞–π–¥–µ–Ω–∞

–í URL –∞–≤–∞—Ç–∞—Ä–æ–≤ –∏–Ω–æ–≥–¥–∞ –ø–æ—è–≤–ª—è–ª–∏—Å—å **–¥–≤–æ–π–Ω—ã–µ —Å–ª–µ—à–∏**:
```
‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: https://jvsypfwiajuwsyuzkyda.supabase.co/storage/v1/object/public/avatars//1754007876640_avatar_1754007876623.jpg
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:  https://jvsypfwiajuwsyuzkyda.supabase.co/storage/v1/object/public/avatars/1754007876640_avatar_1754007876623.jpg
```

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ `utils/uploadImage.ts`:

1. **–û—á–∏—Å—Ç–∫–∞ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –æ—Ç –ª–∏—à–Ω–∏—Ö —Å–ª–µ—à–µ–π:**
```typescript
// –û—á–∏—â–∞–µ–º –∏–º—è —Ñ–∞–π–ª–∞ –æ—Ç –ª–∏—à–Ω–∏—Ö —Å–ª–µ—à–µ–π
finalFileName = finalFileName.replace(/^\/+/, '').replace(/\/+$/, '');
```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥–≤–æ–π–Ω—ã–µ —Å–ª–µ—à–∏ –≤ URL:**
```typescript
// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ—Ç –ª–∏ –¥–≤–æ–π–Ω—ã—Ö —Å–ª–µ—à–µ–π –≤ URL
if (publicUrl.includes('avatars//')) {
  console.error('‚ùå –û–ë–ù–ê–†–£–ñ–ï–ù –î–í–û–ô–ù–û–ô –°–õ–ï–® –í URL!');
  console.error('URL:', publicUrl);
  return null;
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–≤–µ–¥–µ–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–∞–∑–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤:
- ‚úÖ `test_avatar.jpg` ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `/test_avatar.jpg` ‚Üí —Å–ª–µ—à —É–¥–∞–ª—è–µ—Ç—Å—è, —Ä–∞–±–æ—Ç–∞–µ—Ç  
- ‚úÖ `test_avatar.jpg/` ‚Üí —Å–ª–µ—à —É–¥–∞–ª—è–µ—Ç—Å—è, —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `/test_avatar.jpg/` ‚Üí —Å–ª–µ—à–∏ —É–¥–∞–ª—è—é—Ç—Å—è, —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `undefined` ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è, —Ä–∞–±–æ—Ç–∞–µ—Ç

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑–∞–ª–∞:
- ‚úÖ **–í Storage:** 4 –∏–≥—Ä–æ–∫–∞
- üì± **–õ–æ–∫–∞–ª—å–Ω—ã–µ:** 1 –∏–≥—Ä–æ–∫ (–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)
- ‚ö†Ô∏è **–°–ª–æ–º–∞–Ω–Ω—ã–µ URL:** 0
- ‚ùå **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç:** 0

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ URL —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –±–µ–∑ –¥–≤–æ–π–Ω—ã—Ö —Å–ª–µ—à–µ–π
- ‚úÖ –§–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ –≤ Storage
- ‚úÖ –ê–≤–∞—Ç–∞—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—É—Å—Ç—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ —Ä–µ—à–µ–Ω–∞

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

1. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤—ã–π –∞–≤–∞—Ç–∞—Ä** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è:
   ```
   LOG  üìÅ –ò–º—è —Ñ–∞–π–ª–∞: avatar_[timestamp].jpg
   LOG  ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ: https://...
   ```
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ –¥—Ä—É–≥–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö** - –∞–≤–∞—Ç–∞—Ä –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞ —Å –¥–≤–æ–π–Ω—ã–º–∏ —Å–ª–µ—à–∞–º–∏ –≤ URL –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!**

–¢–µ–ø–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ URL –¥–ª—è Supabase Storage.

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ 